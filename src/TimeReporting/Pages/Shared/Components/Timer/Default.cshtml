@model TimeReporting.Pages.Shared.Components.Timer.TimerViewComponent

@switch (Model.Status)
{
  case TimerStatus.NotStarted:
    <div id="timer" class="w-100 p-4">
      <div class="text-center">
        <div class="mb-3">
          <i class="bi bi-stopwatch display-4 text-muted"></i>
        </div>
        <a class="btn btn-success btn-lg px-4 rounded-pill shadow-sm hover-lift" 
           up-target="#timer" 
           asp-page="/Index" 
           asp-page-handler="StartTimer">
          <i class="bi bi-play-circle me-2"></i> Start Timer
        </a>
      </div>
    </div>
    break;

  case TimerStatus.Running:
    <div id="timer" class="w-100 p-3" up-poll up-interval="60000">
      <div class="card border-0 bg-body-tertiary">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
              <p class="mb-0 text-muted fs-5">
                @if (Model.Duration.Hours > 0)
                {
                  <span><strong>@Model.Duration.Hours</strong> @(Model.Duration.Hours == 1 ? "hour" : "hours")</span>
                }
                <span><strong>@Model.Duration.Minutes</strong> @(Model.Duration.Minutes == 1 ? "minute" : "minutes")</span>
              </p>
            <div class="clock-wrapper ms-3">
              <div class="clock"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-3">
        <a asp-page="/Index" 
           asp-page-handler="StopTimer" 
           up-target="#timer" 
           class="btn btn-danger w-100 rounded-pill">
          <i class="bi bi-stop-circle me-2"></i>
        </a>
      </div>
    </div>
    break;

  case TimerStatus.Stopped:
    <div id="timer" class="w-100 p-3">
      <div class="card border-0 bg-body-tertiary mb-3">
        <div class="card-body text-center">
          <div class="fs-5 py-3">
            @if (Model.Duration.Hours > 0)
            {
              <span><strong>@Model.Duration.Hours</strong> @(Model.Duration.Hours == 1 ? "hour" : "hours")</span>
            }
            <span><strong>@Model.Duration.Minutes</strong> @(Model.Duration.Minutes == 1 ? "minute" : "minutes")</span>
          </div>
        </div>
      </div>
      <div class="d-flex gap-2">
        <a asp-page="/Reports/Create"
           asp-route-hours="@Model.Duration.Hours"
           asp-route-minutes="@Model.Duration.Minutes"
           class="btn btn-success flex-grow-1 rounded-pill"
           up-layer="new modal"
           up-target="main"
           up-history="false">
          <i class="bi bi-plus-circle"></i>
        </a>
        <a asp-page="/Index" 
           asp-page-handler="DiscardTimer" 
           up-target="#timer" 
           up-confirm="Are you sure you want to discard this timer?" 
           class="btn btn-outline-danger flex-grow-1 rounded-pill">
          <i class="bi bi-trash"></i>
        </a>
      </div>
    </div>
    break;
}